{"ast":null,"code":"var _jsxFileName = \"/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx\",\n  _s = $RefreshSig$();\nimport { Button, Card, Container } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  cart: [],\n  total: 0,\n  products: []\n};\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n  switch (action.type) {\n    case 'addProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex === -1) {\n        cart.push({\n          ...action.payload,\n          quantity: 1\n        });\n      } else {\n        cart = [...cart.slice(0, productIndex), {\n          ...cart[productIndex],\n          quantity: cart[productIndex].quantity + 1\n        }, ...cart.slice(productIndex + 1)];\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'removeProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n          cart = [...cart.slice(0, productIndex), {\n            ...cart[productIndex],\n            quantity: cart[productIndex].quantity - 1\n          }, ...cart.slice(productIndex + 1)];\n        } else {\n          cart = [...cart.slice(0, productIndex), ...cart.slice(productIndex + 1)];\n        }\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'clearCart':\n      return {\n        ...state,\n        cart: [],\n        total: 0\n      };\n    default:\n      return state;\n  }\n}\nexport function Cart() {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  useEffect(() => {\n    async function fetchProducts(dispatch) {\n      try {\n        const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop/\");\n        const data = await response.json();\n        console.log(data);\n        dispatch({\n          type: \"setProducts\",\n          payload: data\n        });\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      }\n    }\n    fetchProducts(dispatch);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n      className: \"h-100\",\n      children: [state.products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.imageUrl,\n          height: \"200px\",\n          alt: \"product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => dispatch({\n            type: 'addProduct',\n            payload: product\n          }),\n          children: /*#__PURE__*/_jsxDEV(Card.Title, {\n            className: \"d-flex align-items-baseline mb-4\",\n            children: [\"Add\", product.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => dispatch({\n            type: 'removeProduct',\n            payload: product\n          }),\n          children: [\"Remove \", product.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"bg-dark\",\n          onClick: () => dispatch({\n            type: 'clearCart'\n          }),\n          children: \"Clear cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"bg-dark\",\n          onClick: () => dispatch({\n            type: 'getTotal'\n          }),\n          children: \"Get total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: state.total\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: state.cart.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [product.quantity, \" - \", product.title, \" - \", product.discountedPrice]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["Button","Card","Container","React","useReducer","useEffect","jsxDEV","_jsxDEV","initialState","cart","total","products","cartReducer","state","action","productIndex","newTotal","type","findIndex","product","id","payload","push","quantity","slice","reduce","currentTotal","discountedPrice","Cart","_s","dispatch","fetchProducts","response","fetch","data","json","console","log","error","children","Body","className","map","src","imageUrl","height","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Title","title","_c","$RefreshReg$"],"sources":["/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx"],"sourcesContent":[" import { Button, Card, Container } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\n\n\n\n export const initialState = { cart: [], total: 0, products: [] };\n\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n\n \n\n  switch (action.type) {\n\n  \n   \n    case 'addProduct':\n    \n      cart = [...state.cart];\n    \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n      if (productIndex === -1) {\n    \n        cart.push({ ...action.payload, quantity: 1 });\n      } else {\n        \n        cart = [\n          ...cart.slice(0, productIndex),\n          { ...cart[productIndex], quantity: cart[productIndex].quantity + 1 },\n          ...cart.slice(productIndex + 1),\n        ];\n      }\n\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n    case 'removeProduct':\n      cart = [...state.cart];\n  \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n    \n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n        \n          cart = [\n            ...cart.slice(0, productIndex),\n            {\n              ...cart[productIndex],\n              quantity: cart[productIndex].quantity - 1,\n            },\n            ...cart.slice(productIndex + 1),\n          ];\n        } else {\n         \n          cart = [\n            ...cart.slice(0, productIndex),\n            ...cart.slice(productIndex + 1),\n          ];\n        }\n      }\n     \n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n   \n    case 'clearCart':\n      return {...state, cart: [], total: 0 };\n\n    default:\n      return state;\n\n    \n    \n    }\n\n}\n\n\n\n\nexport function Cart() {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  \n    useEffect(() => {\n      async function fetchProducts(dispatch) {\n        try {\n          const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop/\");\n          const data = await response.json();\n          console.log(data);\n          dispatch({ type: \"setProducts\", payload: data });\n        } catch (error) {\n          console.error(\"Error fetching products:\", error);\n        }\n      }\n   \n      fetchProducts(dispatch);\n    }, []); \n  \n  return (\n    <Container>\n        <Card.Body className=\"h-100\">\n      {state.products.map((product) => (\n        <div key={product.id}>\n            <img  src={product.imageUrl} height=\"200px\" alt=\"product\"></img>\n          \n          <Button\n            onClick={() => dispatch({ type: 'addProduct', payload: product })}\n          >\n              <Card.Title className=\"d-flex align-items-baseline mb-4\">Add{product.title}</Card.Title>\n          </Button>\n          <Button\n            onClick={() =>\n              dispatch({ type: 'removeProduct', payload: product })\n            }\n          >\n            Remove {product.title}\n          </Button>\n        </div>\n      ))}\n      <div>\n        <hr />\n        <Button className=\"bg-dark\" onClick={() => dispatch({ type: 'clearCart' })}>\n          Clear cart\n        </Button>\n        <Button className=\"bg-dark\" onClick={() => dispatch({ type: 'getTotal' })}>\n          Get total\n        </Button>\n      </div>\n      <div>{state.total}</div>\n      <hr />\n      <div>\n        {state.cart.map((product) => (\n          <div key={product.id}>\n            {product.quantity} - {product.title} - {product.discountedPrice}\n          </div>\n        ))}\n      </div>\n      </Card.Body>\n    </Container>\n  );\n}\n\nexport default Cart;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
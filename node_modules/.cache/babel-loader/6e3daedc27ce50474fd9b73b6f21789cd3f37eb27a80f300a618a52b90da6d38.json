{"ast":null,"code":"var _jsxFileName = \"/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx\",\n  _s = $RefreshSig$();\nimport { Button } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\nimport { json } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  cart: [],\n  total: 0,\n  products: []\n};\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n  switch (action.type) {\n    case \"setProducts\":\n      return {\n        ...state,\n        products: action.payload.id\n      };\n    case 'addProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex === -1) {\n        cart.push({\n          ...action.payload,\n          quantity: 1\n        });\n      } else {\n        cart = [...cart.slice(0, productIndex), {\n          ...cart[productIndex],\n          quantity: cart[productIndex].quantity + 1\n        }, ...cart.slice(productIndex + 1)];\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'removeProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n          cart = [...cart.slice(0, productIndex), {\n            ...cart[productIndex],\n            quantity: cart[productIndex].quantity - 1\n          }, ...cart.slice(productIndex + 1)];\n        } else {\n          cart = [...cart.slice(0, productIndex), ...cart.slice(productIndex + 1)];\n        }\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'clearCart':\n      return {\n        ...state,\n        cart: [],\n        total: 0\n      };\n    default:\n      return state;\n  }\n}\nexport function Cart() {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  useEffect(() => {\n    async function fetchProducts() {\n      try {\n        const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop/\");\n        const json = await response.json();\n        console.log(json);\n        dispatch({\n          type: \"setProducts\",\n          payload: json\n        });\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      }\n    }\n    fetchProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [state.products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'addProduct',\n          payload: product\n        }),\n        children: [\"Add \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'removeProduct',\n          payload: product\n        }),\n        children: [\"Remove \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'clearCart'\n        }),\n        children: \"Clear cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'getTotal'\n        }),\n        children: \"Get total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.cart.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [product.quantity, \" - \", product.title, \" - \", product.discountedPrice]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["Button","React","useReducer","useEffect","json","jsxDEV","_jsxDEV","initialState","cart","total","products","cartReducer","state","action","productIndex","newTotal","type","payload","id","findIndex","product","push","quantity","slice","reduce","currentTotal","discountedPrice","Cart","_s","dispatch","fetchProducts","response","fetch","console","log","error","children","map","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx"],"sourcesContent":[" import { Button } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\nimport { json } from \"react-router-dom\";\n\n\n export const initialState = { cart: [], total: 0, products: [] };\n\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n\n \n\n  switch (action.type) {\n\n     case \"setProducts\" :\n         return {...state, products: action.payload.id};\n   \n    case 'addProduct':\n    \n      cart = [...state.cart];\n    \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n      if (productIndex === -1) {\n    \n        cart.push({ ...action.payload, quantity: 1 });\n      } else {\n        \n        cart = [\n          ...cart.slice(0, productIndex),\n          { ...cart[productIndex], quantity: cart[productIndex].quantity + 1 },\n          ...cart.slice(productIndex + 1),\n        ];\n      }\n\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n    case 'removeProduct':\n      cart = [...state.cart];\n  \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n    \n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n        \n          cart = [\n            ...cart.slice(0, productIndex),\n            {\n              ...cart[productIndex],\n              quantity: cart[productIndex].quantity - 1,\n            },\n            ...cart.slice(productIndex + 1),\n          ];\n        } else {\n         \n          cart = [\n            ...cart.slice(0, productIndex),\n            ...cart.slice(productIndex + 1),\n          ];\n        }\n      }\n     \n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n   \n    case 'clearCart':\n      return {...state, cart: [], total: 0 };\n\n    default:\n      return state;\n\n    \n    \n    }\n\n}\n\n\n\n\n\n\n\n\nexport function Cart() {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  \n    useEffect(() => {\n      async function fetchProducts() {\n        try {\n          const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop/\");\n          const json = await response.json();\n          console.log(json);\n          dispatch({ type: \"setProducts\", payload: json });\n        } catch (error) {\n          console.error(\"Error fetching products:\", error);\n        }\n      }\n   \n      fetchProducts();\n    }, []); \n  \n  return (\n    <div>\n      {state.products.map((product) => (\n        <div key={product.id}>\n          <Button\n            onClick={() => dispatch({ type: 'addProduct', payload: product })}\n          >\n            Add {product.title}\n          </Button>\n          <Button\n            onClick={() =>\n              dispatch({ type: 'removeProduct', payload: product })\n            }\n          >\n            Remove {product.title}\n          </Button>\n        </div>\n      ))}\n      <div>\n        <hr />\n        <Button onClick={() => dispatch({ type: 'clearCart' })}>\n          Clear cart\n        </Button>\n        <Button onClick={() => dispatch({ type: 'getTotal' })}>\n          Get total\n        </Button>\n      </div>\n      <div>{state.total}</div>\n      <hr />\n      <div>\n        {state.cart.map((product) => (\n          <div key={product.id}>\n            {product.quantity} - {product.title} - {product.discountedPrice}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
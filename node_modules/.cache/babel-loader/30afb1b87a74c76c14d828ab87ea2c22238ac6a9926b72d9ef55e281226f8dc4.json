{"ast":null,"code":"import _regeneratorRuntime from\"/Users/monikasaele/Github/react-app-1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/monikasaele/Github/react-app-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/monikasaele/Github/react-app-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{Row,Container,Form}from\"react-bootstrap\";import{Typeahead}from\"react-bootstrap-typeahead\";import\"react-bootstrap-typeahead/css/Typeahead.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SEARCH_URI=\"https://api.noroff.dev/api/v1/online-shop/\";export var Search=function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchQuery=_useState6[0],setSearchQuery=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),filteredProducts=_useState8[0],setFilteredProducts=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectedOption=_useState10[0],setSelectedOption=_useState10[1];var letsNavigate=useNavigate();useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(\"\".concat(SEARCH_URI,\"?q=\").concat(searchQuery));case 4:response=_context.sent;if(!response.ok){_context.next=13;break;}_context.next=8;return response.json();case 8:products=_context.sent;setData(products);setFilteredProducts(products);_context.next=14;break;case 13:console.error(\"Failed to fetch products:\",response.statusText);case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);console.error(\"Error fetching products:\",_context.t0);case 19:_context.prev=19;setLoading(false);return _context.finish(19);case 22:case\"end\":return _context.stop();}},_callee,null,[[1,16,19,22]]);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[searchQuery]);var Loading=function Loading(){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});};var handleSelection=function handleSelection(selected){if(selected.length>0){var selectedProduct=filteredProducts.find(function(product){return product.title===selected[0];});letsNavigate(\"/singleproduct/\".concat(selectedProduct.id));}};var searchOptions=filteredProducts.map(function(product){return product.title;});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-10 mb-5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(Container,{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Form,{className:\"search d-flex col-12\",onSubmit:function onSubmit(e){return e.preventDefault();},children:/*#__PURE__*/_jsx(Typeahead,{id:\"product-search\",options:searchOptions,selected:selectedOption,onChange:handleSelection,placeholder:\"Search products...\",className:\"me-2\",icon:\"prime:search\",height:\"30px\"})})})})})]});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Row","Container","Form","Typeahead","jsx","_jsx","jsxs","_jsxs","SEARCH_URI","Search","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","searchQuery","setSearchQuery","_useState7","_useState8","filteredProducts","setFilteredProducts","_useState9","_useState10","selectedOption","setSelectedOption","letsNavigate","getProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","products","wrap","_callee$","_context","prev","next","fetch","concat","sent","ok","json","console","error","statusText","t0","finish","stop","apply","arguments","Loading","children","handleSelection","selected","length","selectedProduct","find","product","title","id","searchOptions","map","className","onSubmit","e","preventDefault","options","onChange","placeholder","icon","height"],"sources":["/Users/monikasaele/Github/react-app-1/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Row, Container, Form } from \"react-bootstrap\";\n\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\n\nconst SEARCH_URI = \"https://api.noroff.dev/api/v1/online-shop/\";\n\nexport const Search = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedOption, setSelectedOption] = useState([]);\n\n  const letsNavigate = useNavigate();\n\n  useEffect(() => {\n    const getProducts = async () => {\n      setLoading(true);\n      try {\n        const response = await fetch(`${SEARCH_URI}?q=${searchQuery}`);\n        if (response.ok) {\n          const products = await response.json();\n          setData(products);\n          setFilteredProducts(products);\n        } else {\n          console.error(\"Failed to fetch products:\", response.statusText);\n        }\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getProducts();\n  }, [searchQuery]);\n\n  const Loading = () => {\n    return <div>Loading...</div>;\n  };\n\n  const handleSelection = (selected) => {\n    if (selected.length > 0) {\n      const selectedProduct = filteredProducts.find(\n        (product) => product.title === selected[0]\n      );\n      letsNavigate(`/singleproduct/${selectedProduct.id}`);\n    }\n  };\n\n  const searchOptions = filteredProducts.map((product) => product.title);\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-10 mb-5\"></div>\n      </div>\n      <div className=\"row justify-content-center\">\n        {loading ? (\n          <Loading />\n        ) : (\n          <Container className=\"d-flex align-items-center\">\n            <Row>\n              <Form\n                className=\"search d-flex col-12\"\n                onSubmit={(e) => e.preventDefault()}\n              >\n                <Typeahead\n                  id=\"product-search\"\n                  options={searchOptions}\n                  selected={selectedOption}\n                  onChange={handleSelection}\n                  placeholder=\"Search products...\"\n                  className=\"me-2\"\n                  icon=\"prime:search\"\n                  height=\"30px\"\n                />\n              </Form>\n            </Row>\n          </Container>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
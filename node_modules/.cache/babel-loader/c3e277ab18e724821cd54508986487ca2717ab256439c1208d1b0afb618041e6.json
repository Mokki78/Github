{"ast":null,"code":"var _jsxFileName = \"/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx\",\n  _s = $RefreshSig$();\nimport { Button } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  cart: [],\n  total: 0\n};\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n  switch (action.type) {\n    case \"setProducts\":\n      return {\n        ...state,\n        products: action.payload.id\n      };\n    case 'addProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex === -1) {\n        cart.push({\n          ...action.payload,\n          quantity: 1\n        });\n      } else {\n        cart = [...cart.slice(0, productIndex), {\n          ...cart[productIndex],\n          quantity: cart[productIndex].quantity + 1\n        }, ...cart.slice(productIndex + 1)];\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'removeProduct':\n      cart = [...state.cart];\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n          t;\n          cart = [...cart.slice(0, productIndex), {\n            ...cart[productIndex],\n            quantity: cart[productIndex].quantity - 1\n          }, ...cart.slice(productIndex + 1)];\n        } else {\n          cart = [...cart.slice(0, productIndex), ...cart.slice(productIndex + 1)];\n        }\n      }\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n    case 'clearCart':\n      return {\n        cart: [],\n        total: 0\n      };\n    default:\n      return state;\n  }\n}\nasync function fetchProducts(dispatch) {\n  try {\n    const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop\");\n    const json = await response.json();\n    dispatch({\n      type: \"setProducts\",\n      payload: json\n    });\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n  }\n}\nuseEffect(() => {\n  fetchProducts(dispatch);\n}, []);\nasync function Cart() {\n  _s();\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'addProduct',\n          payload: product\n        }),\n        children: [\"Add \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'removeProduct',\n          payload: product\n        }),\n        children: [\"Remove \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'clearCart'\n        }),\n        children: \"Clear cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch({\n          type: 'getTotal'\n        }),\n        children: \"Get total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.cart.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [product.quantity, \" - \", product.title, \" - \", product.discountedPrice]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["Button","React","useReducer","useEffect","jsxDEV","_jsxDEV","initialState","cart","total","cartReducer","state","action","productIndex","newTotal","type","products","payload","id","findIndex","product","push","quantity","slice","reduce","currentTotal","discountedPrice","t","fetchProducts","dispatch","response","fetch","json","error","console","Cart","_s","children","map","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx"],"sourcesContent":[" import { Button } from \"react-bootstrap\";\nimport React, { useReducer, useEffect } from 'react';\n\n\n export const initialState = { cart: [], total: 0 };\n\nexport function cartReducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n\n  switch (action.type) {\n\n     case \"setProducts\" :\n         return {...state, products: action.payload.id};\n   \n    case 'addProduct':\n    \n      cart = [...state.cart];\n    \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n      if (productIndex === -1) {\n    \n        cart.push({ ...action.payload, quantity: 1 });\n      } else {\n        \n        cart = [\n          ...cart.slice(0, productIndex),\n          { ...cart[productIndex], quantity: cart[productIndex].quantity + 1 },\n          ...cart.slice(productIndex + 1),\n        ];\n      }\n\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n    case 'removeProduct':\n      cart = [...state.cart];\n  \n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n    \n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n        t\n          cart = [\n            ...cart.slice(0, productIndex),\n            {\n              ...cart[productIndex],\n              quantity: cart[productIndex].quantity - 1,\n            },\n            ...cart.slice(productIndex + 1),\n          ];\n        } else {\n         \n          cart = [\n            ...cart.slice(0, productIndex),\n            ...cart.slice(productIndex + 1),\n          ];\n        }\n      }\n     \n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n   \n    case 'clearCart':\n      return { cart: [], total: 0 };\n\n    default:\n      return state;\n  }\n}\n\nasync function fetchProducts(dispatch) {\n    try {\n        const response = await fetch(\"https://api.noroff.dev/api/v1/online-shop\");\n        const json = await response.json();\n        dispatch({type: \"setProducts\", payload: json})\n    } catch (error) {\n        console.error(\"Error fetching products:\", error);\n    }\n\n}\n\nuseEffect(() => {\n    fetchProducts(dispatch);\n}, []);\n\n\n\nasync function Cart() {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n  return (\n    <div>\n      {products.map((product) => (\n        <div key={product.id}>\n          <Button\n            onClick={() => dispatch({ type: 'addProduct', payload: product })}\n          >\n            Add {product.title}\n          </Button>\n          <Button\n            onClick={() =>\n              dispatch({ type: 'removeProduct', payload: product })\n            }\n          >\n            Remove {product.title}\n          </Button>\n        </div>\n      ))}\n      <div>\n        <hr />\n        <Button onClick={() => dispatch({ type: 'clearCart' })}>\n          Clear cart\n        </Button>\n        <Button onClick={() => dispatch({ type: 'getTotal' })}>\n          Get total\n        </Button>\n      </div>\n      <div>{state.total}</div>\n      <hr />\n      <div>\n        {state.cart.map((product) => (\n          <div key={product.id}>\n            {product.quantity} - {product.title} - {product.discountedPrice}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
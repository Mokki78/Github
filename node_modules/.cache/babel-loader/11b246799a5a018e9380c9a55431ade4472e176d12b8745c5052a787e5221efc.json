{"ast":null,"code":"var _jsxFileName = \"/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst products = [{\n  id: 0,\n  title: 'Milk',\n  price: 19.99,\n  discountedPrice: 19.99\n}, {\n  id: 1,\n  title: 'Bread',\n  price: 12.99,\n  discountedPrice: 12.99\n}, {\n  id: 2,\n  title: 'Cheese',\n  price: 25.99,\n  discountedPrice: 25.99\n}];\nexport const initialState = {\n  cart: [],\n  total: 0\n};\nexport function reducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n  switch (action.type) {\n    // Adding a product\n    case 'addProduct':\n      // Create a new cart so we don't mutate our state\n      cart = [...state.cart];\n      // Get the product index\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      if (productIndex === -1) {\n        // If productIndex is -1, it doesn't exist so we add it\n        cart.push({\n          ...action.payload,\n          quantity: 1\n        });\n      } else {\n        // The product does exist so we increase the quantity\n        // We do not want to mutate quantity so we are creating a new array with\n        // quantity incremented.\n        cart = [...cart.slice(0, productIndex), {\n          ...cart[productIndex],\n          quantity: cart[productIndex].quantity + 1\n        }, ...cart.slice(productIndex + 1)];\n      }\n      // Set the new total so we don't have to keep calculating it\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n\n    // Removing a product\n    case 'removeProduct':\n      cart = [...state.cart];\n      // Get the product index\n      productIndex = cart.findIndex(product => product.id === action.payload.id);\n      // If the product index is not -1 then it exists\n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n          // Remove 1 from quantity is quantity is higher than 1\n          // We do not want to mutate cart so we recreate it\n          cart = [...cart.slice(0, productIndex), {\n            ...cart[productIndex],\n            quantity: cart[productIndex].quantity - 1\n          }, ...cart.slice(productIndex + 1)];\n        } else {\n          // Remove the item entirely if quantity is going to be 0\n          cart = [...cart.slice(0, productIndex), ...cart.slice(productIndex + 1)];\n        }\n      }\n      // Set the new total so we don't have to keep calculating it\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return {\n        ...state,\n        cart: cart,\n        total: newTotal\n      };\n\n    // Clearing a cart\n    case 'clearCart':\n      return {\n        cart: [],\n        total: 0\n      };\n    default:\n      return state;\n  }\n}\nfunction App() {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => dispatch({\n          type: 'addProduct',\n          payload: product\n        }),\n        children: [\"Add \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => dispatch({\n          type: 'removeProduct',\n          payload: product\n        }),\n        children: [\"Remove \", product.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => dispatch({\n          type: 'clearCart'\n        }),\n        children: \"Clear cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => dispatch({\n          type: 'getTotal'\n        }),\n        children: \"Get total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: state.cart.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [product.quantity, \" - \", product.title, \" - \", product.discountedPrice]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","products","id","title","price","discountedPrice","initialState","cart","total","reducer","state","action","productIndex","newTotal","type","findIndex","product","payload","push","quantity","slice","reduce","currentTotal","App","_s","dispatch","children","map","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/monikasaele/Github/react-app-1/src/pages/Cart.jsx"],"sourcesContent":["\n\n\nimport React, { useReducer } from 'react';\n\nconst products = [\n  {\n    id: 0,\n    title: 'Milk',\n    price: 19.99,\n    discountedPrice: 19.99,\n  },\n  {\n    id: 1,\n    title: 'Bread',\n    price: 12.99,\n    discountedPrice: 12.99,\n  },\n  {\n    id: 2,\n    title: 'Cheese',\n    price: 25.99,\n    discountedPrice: 25.99,\n  },\n];\n\nexport const initialState = { cart: [], total: 0 };\n\nexport function reducer(state, action) {\n  let productIndex;\n  let newTotal;\n  let cart;\n\n  switch (action.type) {\n    // Adding a product\n    case 'addProduct':\n      // Create a new cart so we don't mutate our state\n      cart = [...state.cart];\n      // Get the product index\n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n      if (productIndex === -1) {\n        // If productIndex is -1, it doesn't exist so we add it\n        cart.push({ ...action.payload, quantity: 1 });\n      } else {\n        // The product does exist so we increase the quantity\n        // We do not want to mutate quantity so we are creating a new array with\n        // quantity incremented.\n        cart = [\n          ...cart.slice(0, productIndex),\n          { ...cart[productIndex], quantity: cart[productIndex].quantity + 1 },\n          ...cart.slice(productIndex + 1),\n        ];\n      }\n      // Set the new total so we don't have to keep calculating it\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n    // Removing a product\n    case 'removeProduct':\n      cart = [...state.cart];\n      // Get the product index\n      productIndex = cart.findIndex(\n        (product) => product.id === action.payload.id,\n      );\n      // If the product index is not -1 then it exists\n      if (productIndex !== -1) {\n        if (cart[productIndex].quantity > 1) {\n          // Remove 1 from quantity is quantity is higher than 1\n          // We do not want to mutate cart so we recreate it\n          cart = [\n            ...cart.slice(0, productIndex),\n            {\n              ...cart[productIndex],\n              quantity: cart[productIndex].quantity - 1,\n            },\n            ...cart.slice(productIndex + 1),\n          ];\n        } else {\n          // Remove the item entirely if quantity is going to be 0\n          cart = [\n            ...cart.slice(0, productIndex),\n            ...cart.slice(productIndex + 1),\n          ];\n        }\n      }\n      // Set the new total so we don't have to keep calculating it\n      newTotal = cart.reduce((currentTotal, product) => {\n        currentTotal += product.discountedPrice * product.quantity;\n        return currentTotal;\n      }, 0);\n      return { ...state, cart: cart, total: newTotal };\n\n    // Clearing a cart\n    case 'clearCart':\n      return { cart: [], total: 0 };\n\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <div>\n      {products.map((product) => (\n        <div key={product.id}>\n          <button\n            onClick={() => dispatch({ type: 'addProduct', payload: product })}\n          >\n            Add {product.title}\n          </button>\n          <button\n            onClick={() =>\n              dispatch({ type: 'removeProduct', payload: product })\n            }\n          >\n            Remove {product.title}\n          </button>\n        </div>\n      ))}\n      <div>\n        <hr />\n        <button onClick={() => dispatch({ type: 'clearCart' })}>\n          Clear cart\n        </button>\n        <button onClick={() => dispatch({ type: 'getTotal' })}>\n          Get total\n        </button>\n      </div>\n      <div>{state.total}</div>\n      <hr />\n      <div>\n        {state.cart.map((product) => (\n          <div key={product.id}>\n            {product.quantity} - {product.title} - {product.discountedPrice}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}